TUP_ROOT = $(TUP_CWD)

CXX = clang++
LD = clang++

CXXFLAGS += -stdlib=libc++ -std=c++0x -pedantic
CXXFLAGS += -Wall -Wextra -Werror
CXXFLAGS += -Wno-unused-parameter
CXXFLAGS += -fno-rtti -fno-exceptions
CXXFLAGS += -arch x86_64
CXXFLAGS += -g

LDFLAGS += -g -stdlib=libc++

!cxx = |> $(CXX) $(CXXFLAGS) -c %f -o %o |> %B.o
!ld = |> $(LD) $(LDFLAGS) %f -o %o |> %B.bin
!ar = |> ar -crs %o %f |>
!ragel = |> ragel -C -G2 -o %o %f |> %B.cc
!lemon = |> lemon -q %f |> %B.c %B.h
